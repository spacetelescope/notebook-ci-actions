name: Simple Runner Config Test

on:
  workflow_dispatch:

jobs:
  test-config:
    runs-on: ubuntu-24.04
    steps:
      - uses: actions/checkout@v4
      
      - name: Test Config Generation
        run: |
          echo "ðŸ” Checking ci_config.txt location and content"
          
          # Check different possible locations
          echo "ðŸ“ Current directory:"
          pwd
          ls -la
          
          echo "ðŸ“ Looking for ci_config.txt:"
          find . -name "ci_config.txt" -type f 2>/dev/null || echo "Not found"
          
          echo "ðŸ“ Checking examples directory:"
          ls -la examples/ 2>/dev/null || echo "Examples directory not found"
          
          if [ -f "examples/ci_config.txt" ]; then
            echo "âœ… Found examples/ci_config.txt:"
            cat examples/ci_config.txt
          fi
          
          # Test with a known notebook path
          TEST_NOTEBOOK="notebooks/NIRSPEC/MOS/JWPipeNB-NIRSpec-MOS.ipynb"
          echo "ðŸ§ª Testing lookup for: $TEST_NOTEBOOK"
          
          if [ -f "examples/ci_config.txt" ]; then
            RESULT=$(grep "^${TEST_NOTEBOOK}:" examples/ci_config.txt 2>/dev/null | cut -d':' -f2 | tr -d '[:space:]' || echo "NOT_FOUND")
            echo "ðŸŽ¯ Lookup result: '$RESULT'"
          fi
